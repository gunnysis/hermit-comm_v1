# Production 빌드 후 Play Store 제출 (Android 전용)
# main 브랜치 push 시 자동 실행 + 수동 실행(workflow_dispatch)
name: Build and Submit to Play Store

on:
  push:
    branches: ['main']
  workflow_dispatch: {}

jobs:
  build_android:
    name: Build Android
    type: build
    params:
      platform: android
      profile: production
      message: ${{ github.event.head_commit.message || 'Production build' }}

  submit_android:
    name: Submit to Play Store
    type: submit
    needs: [build_android]
    params:
      build_id: ${{ needs.build_android.outputs.build_id }}
      profile: production
