# E2E: 관리자 로그인 → 그룹 생성 플로우
# 환경 변수: MAESTRO_ADMIN_EMAIL, MAESTRO_ADMIN_PASSWORD (.env 참조)
# 사전 조건: 에뮬레이터 키보드가 영문 모드여야 합니다 (admin-login.yaml 주석 참조)
appId: com.gns.hermitcomm.dev
---
- stopApp
- launchApp

- extendedWaitUntil:
    visible: "은둔마을"
    timeout: 15000

# 설정 → 관리자 로그인
- tapOn: "설정"

- extendedWaitUntil:
    visible: "운영자 관리 페이지"
    timeout: 5000

- tapOn: "운영자 관리 페이지"

- extendedWaitUntil:
    visible: "관리자 로그인"
    timeout: 5000

- tapOn: "admin@example.com"
- inputText: "${MAESTRO_ADMIN_EMAIL}"

- tapOn:
    text: "비밀번호"
    index: 1
- inputText: "${MAESTRO_ADMIN_PASSWORD}"

- tapOn:
    text: "로그인"

- extendedWaitUntil:
    visible: "그룹 게시판 생성"
    timeout: 10000

# 그룹 생성 폼 입력
- tapOn: "예: 2025 봄 프로그램"
- inputText: "E2E 테스트 그룹"

- tapOn: "예: WELCOME2025"
- inputText: "E2ETEST"

- tapOn:
    text: "그룹에 대한 간단한 설명"
    optional: true
- inputText: "E2E 테스트용 그룹입니다"

# 그룹 생성 버튼
- tapOn: "그룹 생성"

- extendedWaitUntil:
    visible: "그룹 생성 완료"
    timeout: 10000

- tapOn: "확인"

# 생성된 그룹이 목록에 보이는지 확인
- assertVisible: "E2E 테스트 그룹"
